{% extends 'index.html' %}

{% block content %}
<style>
    #image-container {
        width: 100%;
        height: 400px; 
        border: 1px solid #000; 
        overflow: hidden; 
    }
</style>

    <div id="image-container">
        <!-- The iframe will be loaded here -->
    </div>
    
    <!-- <script>
      document.addEventListener("DOMContentLoaded", function() {
        // Get a reference to the "Search using Image" link
        var classifyImageLink = document.getElementById("classify-image-link");
    
        // Get a reference to the image container
        var imageContainer = document.getElementById("image-container");
    
        // Add a click event listener
        classifyImageLink.addEventListener("click", function(e) {
          // Prevent the default link behavior (opening a new tab)
          e.preventDefault();
    
          // Create an iframe element
          var iframe = document.createElement("iframe");
          iframe.src = "http://127.0.0.1:5000/"; // Replace with your desired URL
    
          // Set the attributes for the iframe
          iframe.setAttribute("width", "100%");
          iframe.setAttribute("height", "100%"); // You can adjust the height as needed
    
          // Append the iframe to the container
          imageContainer.innerHTML = "";
          imageContainer.appendChild(iframe);
        });
      });
    </script> -->
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js"></script>
    <div id="result-container">
      {% for wallpaper in similar_wallpapers %}
          <div class="image-container">
              <img src="{{ wallpaper.wallpaper_image.url }}" alt="{{ wallpaper.title }}">
              <p>{{ wallpaper.title }}</p>
          </div>
      {% endfor %}
  </div>
  
{% endblock %}
